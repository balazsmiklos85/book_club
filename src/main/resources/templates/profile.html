<!DOCTYPE html>
<html lang="en">

<head>
    <title>User profile</title>
</head>

<body>
    <div th:replace="fragments/menu :: menu"></div>
    <h2>User profile</h2>
    <h3>User information</h3>
    <div>
        <span>Name: </span>
        <span th:text="${user.name}"></span>
    </div>
    <div>
        <span>External ID:</span>
        <span th:text="${user.externalId}"></span>
    </div>
    <h3>E-mail addresses</h3>
    <div>
        <ul>
            <li th:each="email : ${user.emails}">
                <span th:text="${email}"></span>
                <form th:action="@{/profile/email}" method="post" style="display: inline;" th:if="${#lists.size(user.emails) > 1}">
                    <input type="hidden" name="method" th:value="delete" />
                    <input type="hidden" name="email" th:value="${email}" />
                    <button type="submit">🗑️ Remove</button>
                </form>
            </li>
        </ul>
    </div>
    <div>
        <form th:action="@{/profile/email}" method="post">
            <input type="hidden" name="method" th:value="put" />
            <label for="email">Add e-mail address:</label>
            <input type="text" name="email" />
            <button type="submit">➕ Add</button>
        </form>
    </div>
    <h3>Change password</h3>
    <div>
        <form th:action="@{/profile/password}" method="post">
            <label for="oldPassword">Old password:</label>
            <input type="password" name="oldPassword" />
            <br />
            <label for="password">New password:</label>
            <input type="password" name="password" />
            <br />
            <label for="confirmPassword">Confirm password:</label>
            <input type="password" name="confirmPassword" />
            <br />
            <button type="submit">🔑 Change</button>
        </form>
    </div>
</body>

</html>